<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<title>위치 정보 이용하기</title>
<script type="text/javascript">
	
	window.onload=function(){
		//위치 정보를 확인할수 있는 브라우져 인지 확인한다.
		if(navigator.geolocation == undefined ){
			alert("위치 정보 기능을 지원하지 않습니다.");
			return;
		}
	}
	//현재 위치 정보 알아보는 메소드
	function showData(){
		//현재 위치 정보를 조사하고 성공,실패 했을때 호출되는 함수를 등록한다.
		navigator.geolocation.getCurrentPosition( success, fail);
	}
	//성공했다면
	function success( position ){
		log("위치정보 확인 성공!");
		//반복문 돌면서 출력해보기
		for( var property in position.coords ){
			log("key 값:"+property+" 정보:"+position.coords[ property ]);
		}
		alert("지도 보기로 이동합니다.");
		var lat=position.coords["latitude"];
		var lon=position.coords["longitude"];
		var uri="http://maps.google.co.kr/?q="+lat+","+lon;
		//페이지 이동하기
		location.href = uri;
	}
	//실패라면
	function fail( err ){
		
	}
	//인자로 전달되는 값을 콘솔창에 출력하는 함수
	function log(msg){
		var console=document.getElementById("console");
		console.innerHTML += msg +"<br/>";
	}
</script>
</head>
<body>
<button onclick="showData()">현재 위치 정보 알아보기</button>
	
<!-- 테스트 로그을 출력하기 위해 -->
<div id="console" style="width:500px ; border:2px solid red; font-size: 20px"></div>
</body>
</html>
















