<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="ko">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<title>AjaxTest.html</title>
<!-- 외부 자바 스크립트 파일 포함시키기(import) -->
<script type="text/javascript" src="js/ajax.js"></script>
<script type="text/javascript">
	var result;
	window.onload=function(){
		//결과값을 출력할 객체의 참조값 얻어오기
		result = document.getElementById("myDiv");
	};
	//비동기 다운로드 하는 메소드
	function down(url){
		httpRequest = getXmlHttpRequest();
		httpRequest.onreadystateChange=viewMessage;
		httpRequest.open("GET", url, null);
		httpRequest.send(null);
	}
	function viewMessage(){
		if(httpRequest.readyState==4){
			if(httpRequest.status==200){
				alert("메세지 도착!");
				//서버가 응답한 문자 읽어오기.
				data=httpRequest.responseText;
				//출력해보기
				result.innerHTML=data;
			}
		}
	}
</script>
</head>
<body>
	<button onclick="down('http://192.168.0.157:8888/JavaScript/Server.jsp')">비동기 다운로드</button><br/>
	<div id="myDiv"></div>
</body>
</html>




